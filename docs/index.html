<script type="module">
  const WORKER_URL = "const WORKER_URL = "https://senin-worker-adresin.workers.dev";"; // örn: https://sadecebiz-xxx.workers.dev

  async function sendMessage(message) {
    const r = await fetch(`${WORKER_URL}/chat`, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ message })
    });
    const data = await r.json();
    document.getElementById("chat").innerHTML +=
      `<p><b>Zeliha:</b> ${data.reply}</p>`;
  }

  // Örnek kullanım:
  window.addEventListener("DOMContentLoaded", () => {
    document.getElementById("sendBtn").onclick = () => {
      const txt = document.getElementById("msg").value.trim();
      if (!txt) return;
      document.getElementById("chat").innerHTML += `<p><b>Hakan:</b> ${txt}</p>`;
      document.getElementById("msg").value = "";
      sendMessage(txt);
    };
  });
</script>
