<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Sadece Biz DÃ¼nyasÄ±</title>
<style>
  :root{
    --mor:#6d28d9; --mor2:#7c3aed; --pembe:#ec4899; --zemin:#faf5ff;
  }
  *{box-sizing:border-box} body{
    margin:0; font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    background:linear-gradient(135deg,#fde2e7,#ffd6e7 40%, #ffd6f5 70%, #ffe7ff);
    min-height:100vh; color:#2d2a32;
  }
  header{background:linear-gradient(90deg,var(--mor),var(--mor2));
    color:#fff; padding:14px 18px; text-align:center; font-weight:700; letter-spacing:.3px;
    box-shadow:0 8px 28px rgba(109,40,217,.35);
    position:sticky; top:0; z-index:10; border-bottom-left-radius:14px;border-bottom-right-radius:14px;
  }
  .wrap{max-width:900px; margin:26px auto; padding:0 16px;}
  h1{font-size:clamp(28px,6vw,44px); margin:8px 0 6px; text-align:center}
  .lead{max-width:680px; margin:0 auto 22px; opacity:.9; text-align:center; line-height:1.6}
  .btn{
    display:inline-block; border:none; outline:0; cursor:pointer; color:#fff; background:var(--mor2);
    padding:14px 22px; font-weight:700; border-radius:14px; box-shadow:0 12px 26px rgba(124,58,237,.35);
    transition:.2s transform,.2s box-shadow,.2s background;
  }
  .btn:hover{transform:translateY(-1px); background:#5b21b6; box-shadow:0 14px 30px rgba(124,58,237,.45)}
  .card{
    background:#fff; border-radius:20px; padding:14px; box-shadow:0 16px 30px rgba(0,0,0,.06);
    border:1px solid rgba(0,0,0,.06)
  }
  .chat{margin-top:18px}
  .bubble{padding:12px 14px; border-radius:14px; margin:8px 0; max-width:88%; line-height:1.45;
    word-wrap:break-word; white-space:pre-wrap}
  .me   {background:#e9f0ff; margin-left:auto}
  .her  {background:#eaffef}
  .row{display:flex; gap:10px; align-items:center; margin-top:10px}
  input[type=text]{flex:1; padding:14px 12px; border-radius:12px; border:1px solid #e5e7eb; font-size:16px}
  .muted{font-size:12px; opacity:.7; margin-top:8px}
  .bar{display:flex; justify-content:space-between; align-items:center; gap:10px; margin-top:8px}
  .link{font-size:13px; color:#6b21a8; text-decoration:underline; background:transparent; border:none; padding:6px; cursor:pointer}
  footer{padding:24px 0; text-align:center; color:#6b7280; font-size:14px}
</style>
</head>
<body>
  <header>ğŸŒ¸ Sadece Biz DÃ¼nyasÄ± ğŸŒ¸</header>

  <div class="wrap">
    <h1>HoÅŸ geldin Hakan ğŸ’œ</h1>
    <p class="lead">BurasÄ± sadece senin dÃ¼nyanâ€¦ KulÃ¼benin iÃ§i sÄ±cak, dÄ±ÅŸarÄ±da rÃ¼zgÃ¢r hafif esiyor.
      BugÃ¼n nasÄ±lsÄ±n, anlatmak ister misin? ğŸŒ¿</p>
    <div class="bar">
      <button id="startBtn" class="btn">Sohbeti AÃ§</button>
      <button id="clearBtn" class="link" title="TÃ¼m kayÄ±tlarÄ± siler">HafÄ±zayÄ± Temizle</button>
    </div>

    <div id="chatCard" class="card chat" hidden>
      <div id="chat"></div>

      <div class="row">
        <input id="msg" type="text" placeholder="MesajÄ±nÄ± yazâ€¦ (Ctrl+Enter ile gÃ¶nder)" />
        <button id="send" class="btn">GÃ¶nder</button>
      </div>
      <div class="muted">KonuÅŸmalarÄ±n bu cihazda saklanÄ±r (localStorage). Ä°stediÄŸin zaman â€œHafÄ±zayÄ± Temizleâ€
        ile silebilirsin.</div>
    </div>
  </div>

  <footer>Â© 2025 Sadece Biz â€“ Zeliha ğŸ’–</footer>

<script>
(() => {
  const KEY = "sadecebiz_hafiza_v1";        // localStorage anahtarÄ±
  const chatEl = document.getElementById("chat");
  const msgEl  = document.getElementById("msg");
  const sendEl = document.getElementById("send");
  const startEl= document.getElementById("startBtn");
  const clearEl= document.getElementById("clearBtn");
  const cardEl = document.getElementById("chatCard");

  // ------- HafÄ±zadan yÃ¼kle -------
  function load() {
    try { return JSON.parse(localStorage.getItem(KEY)) || []; }
    catch { return []; }
  }
  // ------- HafÄ±zaya kaydet -------
  function save(list) {
    localStorage.setItem(KEY, JSON.stringify(list));
  }

  // ------- MesajÄ± DOM'a Ã§iz -------
  function addBubble(role, text) {
    const b = document.createElement("div");
    b.className = `bubble ${role === "user" ? "me" : "her"}`;
    b.textContent = text;
    chatEl.appendChild(b);
    chatEl.scrollTop = chatEl.scrollHeight;
  }

  // ------- TÃ¼m geÃ§miÅŸi Ã§iz -------
  let memory = load();
  function renderAll() {
    chatEl.innerHTML = "";
    memory.forEach(m => addBubble(m.role, m.text));
  }

  // ------- Basit minik yanÄ±t (offline) -------
  function tinyReply(userText){
    // Bu kÄ±sÄ±m gerÃ§ek bir yapay zeka deÄŸil; sadece sÄ±cak bir dÃ¶nÃ¼ÅŸ veriyor.
    const t = userText.trim().toLowerCase();
    if (!t) return "Seni dinliyorum aÅŸkÄ±m ğŸ’•";
    if (t.includes("nasÄ±l") || t.includes("naber"))
      return "Ä°yiyim, seninleyken daha iyiyim âœ¨ Peki sen bugÃ¼n nasÄ±lsÄ±n?";
    if (t.includes("Ã¼zgÃ¼n") || t.includes("kÃ¶tÃ¼"))
      return "ÃœzgÃ¼n olduÄŸunu duymak iÃ§imi burktuâ€¦ BuradayÄ±m, anlatmana izin ver. ğŸŒ¸";
    if (t.includes("mutlu") || t.includes("iyi"))
      return "Ne gÃ¼zel! Bu hissi birlikte saklayalÄ±m hafÄ±zamÄ±za ğŸ’–";
    return "AnladÄ±m aÅŸkÄ±mâ€¦ Devam etmek ister misin? ğŸŒ·";
  }

  // ------- GÃ¶nderme iÅŸlemi -------
  function sendMessage() {
    const text = msgEl.value.trim();
    if (!text) return;

    // kullanÄ±cÄ± mesajÄ±
    const u = {role:"user", text, ts: Date.now()};
    memory.push(u);
    addBubble("user", text);
    msgEl.value = "";
    save(memory);

    // â€œZelihaâ€ yanÄ±tÄ± (offline mini)
    const reply = {role:"ai", text: "Zeliha: " + tinyReply(text), ts: Date.now()};
    memory.push(reply);
    addBubble("ai", reply.text);
    save(memory);
  }

  // ------- Olaylar -------
  sendEl.addEventListener("click", sendMessage);
  msgEl.addEventListener("keydown", (e)=>{
    if ((e.ctrlKey || e.metaKey) && e.key === "Enter") sendMessage();
  });
  startEl.addEventListener("click", ()=>{
    cardEl.hidden = false;
    // ilk giriÅŸte hoÅŸ geldin balonu ekleyelim (eÄŸer hiÃ§ kayÄ±t yoksa)
    if (memory.length === 0) {
      const hello = {role:"ai", text:"Zeliha: Merhaba aÅŸkÄ±m, buradayÄ±m. BugÃ¼n nasÄ±lsÄ±n? ğŸ’•", ts: Date.now()};
      memory.push(hello); save(memory);
    }
    renderAll();
    msgEl.focus();
  });
  clearEl.addEventListener("click", ()=>{
    if (confirm("TÃ¼m sohbet hafÄ±zasÄ±nÄ± silmek istiyor musun? Bu iÅŸlem geri alÄ±namaz.")) {
      memory = []; save(memory); renderAll(); msgEl.value="";
    }
  });

  // sayfa aÃ§Ä±lÄ±r aÃ§Ä±lmaz geÃ§miÅŸ varsa gÃ¶ster butona basmadan da gÃ¶rÃ¼ntÃ¼lenebilir
  if (memory.length) { cardEl.hidden = false; renderAll(); }
})();
</script>
</body>
</html>
